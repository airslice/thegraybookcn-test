---
title: 创建编辑器扩展
sidebar_position: 12
---

## 编辑器扩展

编辑器扩展允许你使用自己的工具来扩展vvvv的编辑器。这里有些例子：
- The Key & Mouse display / 键盘鼠标显示窗口 （浮动窗口）
- TUIO Simulator & Monitor / (通过 VL.TUIO.HDE nuget 安装)
- Spout Monitor (通过 VL.SpoutMonitor.HDE nuget 安装)
- Desktop Pipette (通过 VL.Pipette.HDE nuget 安装)

编辑器扩展可以完全用vvvv来编写，并可以定义快捷键，这样你可以在任何时候唤起他们。你可以在主菜单中找到你现在载入的扩展工具：

`Quad > Extensions`

## 创建一个编辑器扩展

扩展就是纯粹的VL文档，当然最主要的特点是他们以`.HDE.vl`作为后缀名,就像：

`VL.MyExtension.HDE.vl`

在vvvv中打开的任何文档，实际上已经在按照一个编辑器的扩展的方式在运行了。但是显然我们希望通过快捷键或者是主菜单来打开我们的扩展。为了完成这一点，我们必须注册一个指令，通过`Command`节点可以做到这一点，该节点是通过`VL.HDE`nuget获得的。

或者你也可以简单从一个预设文件开始：

## 从预设文件开始创建一个编辑器扩展

从主菜单选择：

`Quad > Extensions > New Extension ...`

然后在对话框中，为你的新扩展.vl文档定义路径和文件名。

:::note
文件名必须为`.HDE.vl`后缀名，这样你的文件才会被识别为一个扩展。
:::

系统会复制预设文件到你的路径并为你打开这个文档，看起来就像下面所呈现的那样：

[there is a image]

注意这里的`Command`节点允许你给编辑器注册一个指令，并且可以带以下参数：
- 一个主菜单显示用的标签
- 是否在主菜单中可见的选项
- 快捷键

检查一下`Command`节点的输出，他会根据是否点击了主菜单选项或者是快捷键来触发这个command。

从这里你可以开始接手了。一个传统使用场景就是可以反复地打开或者关闭编辑器的扩展。当然你还通过引入别的文档做更多的事情，甚至可以运行`format c:`，请小心操作...

## 一对多，一个.HDE.vl多个扩展

如果这就是你想要，当然可以，你只需要简单地注册多个command，每个command都能触发单个的扩展。

注意，尽管可以，但是你的某个扩展可能会出现runtime error，在同一个文档中运行的其他扩展可能也会受到影响。

（未完待续...）